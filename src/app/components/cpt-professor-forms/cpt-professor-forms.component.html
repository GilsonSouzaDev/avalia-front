<div class="form-container">
  <h3>{{ editando ? 'Atualizar' : 'Cadastrar' }}</h3>

  <form #profForm="ngForm" (ngSubmit)="onSubmit(profForm)">

    <div class="campo">
      <label for="nome">Nome</label>
      <input
        type="text"
        id="nome"
        name="nome"
        [(ngModel)]="nome"
        required
      />
    </div>

    <div class="campo">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="email"
        required
      />
    </div>

    <div class="campo">
      <label for="senha">{{ editando ? 'Nova Senha (Opcional)' : 'Senha' }}</label>
      <input
        type="password"
        id="senha"
        name="senha"
        [(ngModel)]="senha"
        (input)="validarSenhas()"
        [required]="!editando"
      />
    </div>

    <div class="campo" *ngIf="senha">
      <label for="confirmarSenha">Confirmar Senha</label>
      <input
        type="password"
        id="confirmarSenha"
        name="confirmarSenha"
        [(ngModel)]="confirmarSenha"
        (input)="validarSenhas()"
        [required]="!editando"
      />
      <div *ngIf="erroSenha" class="erro-senha">{{ erroSenha }}</div>
    </div>

    <div class="campo" *ngIf="mostrarDisciplinas">
      <label>Disciplinas</label>
      <div class="disciplinas-grid">
        <label
          *ngFor="let d of disciplinasDisponiveis()"
          class="disciplina-item"
        >
          <input
            type="checkbox"
            [checked]="isDisciplinaSelecionada(d)"
            (change)="onDisciplinaChange($event, d)"
          />
          {{ d.nome }}
        </label>
      </div>
    </div>

    <div class="form-actions">
      <button
        type="submit"
        class="btn-cadastrar"
        [disabled]="!isFormValid()"
      >
        {{ editando ? 'Atualizar' : 'Cadastrar' }}
      </button>

      <button
        type="button"
        class="btn-cancelar"
        (click)="cancelarCadastro()"
      >
        Cancelar
      </button>
    </div>
  </form>
</div>
